{% extends "base.html" %}
{% load static %}

{% block content %}

<h1>Modify Your Order</h1>
    <form method="POST">
        {% csrf_token %}
        <ul>
            {% for item in order.order_items.all %}
                <li>
                    {{ item.quantity }}x {{ item.name }} (â‚¬{{ item.price }})
                    <input type="number" name="quantity_{{ item.id }}" value="{{ item.quantity }}" min="0">
                    <button type="button" onclick="removeItem('{{ item.id }}', '{{ order.id }}')">Remove</button>
                </li>
            {% empty %}
                <li>No items in this order.</li>
            {% endfor %}
        </ul>
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li class="{{ message.tags }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <button type="submit" onclick="return confirm('Are you sure you want to update your order?')">Update Order</button>
    </form>

{% endblock %}